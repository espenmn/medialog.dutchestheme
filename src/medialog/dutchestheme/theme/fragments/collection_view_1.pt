<section class="newsitems flex flex-wrap margin-0--15"
              tal:define="collection_items view/get_items|None;
             items collection_items/@@contentlisting|context/@@contentlisting;
             size view/data/image_size;
             show_csubject python: view.csubject;
             show_ctype  view/ctype"
             id="fragment-${view/id}">
<div class="collection_item margin-10" tal:repeat="item items">
        <div tal:define="item_url item/getURL|item/absolute_url">
        <p class="${item/portal_type} portal-type white black-background">
           <span class="sans-serif" i18n:translate="" tal:condition="show_ctype">
                ${item/portal_type}</span>
            <span class="sans-serif" i18n:translate="" tal:condition="show_csubject">
                <tal:repeat tal:repeat="subject item/subject">  /  ${subject}</tal:repeat>
            </span>
         </p>
        <a href="${item_url}" class="margin-0">
            <figure tal:define="obj item/getObject;
                    scale_func obj/@@images;
                    scaled_image python:scale_func.scale('image', scale=size)"
                    tal:on-error="">
                <img tal:replace="structure python:scaled_image.tag()"
                     tal:condition="scaled_image" />
           </figure>
        </a>
        <h3 class="padding-0-20">
            <a class="black" href="${item_url}/view">${item/Title}</a>
        </h3>
        <p class="description padding-0-20" tal:condition="item/Description">${item/Description}</p>
     </div>
</div>

 <style>
#fragment-${view/id} .portal-type {
 margin-bottom: 0;
}
#fragment-${view/id} .portal-type span {
 padding: 2px 10px;
  text-transform: uppercase;
  font-size: 80%;
}
#fragment-${view/id} .collection_item {
  color: #333;
 flex: 1;
  min-width: 230px;
  border-bottom: 1px solid black;
  background: #FaFaFa;
  margin-bottom: 20px;
}

#fragment-${view/id} img {
    width: 100%;
    height: auto;
}
 </style>
 </section>
