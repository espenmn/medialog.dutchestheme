<div  id="customcss">

<tal:define
  tal:define="extra_css python: context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.extra_css'];
              ext_css   python: context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.external_style'];
              color1    python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.color1']);
              color2    python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.color2']);
              color3    python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.color3']);
              iconset   python: str(context.portal_registry['medialog.iconpicker.interfaces.IIconPickerSettings.iconset']);
              font_url  python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.font_load_url']);
              override  python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.enable_overrides'])">

    <tal:check >
      <link href="${font_url}" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css?family=Modak&display=swap" rel="stylesheet">
    </tal:check>

    <style>
        option[value=custom-color1], .custom-color1 {color: #${color1} !important}
        option[value=custom-color2], .custom-color2 {color: #${color2} !important}
        option[value=custom-color3], .custom-color3 {color: #${color3} !important}
        option[value=custom-background1], .custom-background1 {background-color: #${color1} !important}
        option[value=custom-background2], .custom-background2 {background-color: #${color2} !important}
        option[value=custom-background3], .custom-background3 {background-color: #${color3} !important}
    <div tal:replace="structure extra_css"/>

    <tal:override tal:condition="python: override == 'True'"
        tal:define="navlink_color     python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.navlink_color']);
                    body_font         python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.body_font']);
                    heading_font      python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.heading_font']);
                    nav_background    python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.nav_background']);
                    navlink_hover     python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.navlink_hover']);
                    navlink_visited   python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.navlink_visited']);
                    footer_background python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.footer_background']);
                    footerlink_color  python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.footerlink_color']);
                    footer_color  python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.footer_color']);
                    footerlink_hover  python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.footerlink_hover']);
                    footerlink_visited python: str(context.portal_registry['medialog.dutchestheme.interfaces.IMedialogDutchesThemeSettings.footerlink_visited']);">

        nav.plone-navbar { background: #${nav_background}}
        nav.plone-navbar a {color: #${navlink_color} }
        nav.plone-navbar a:hover, nav.plone-navbar a:selected  {background: #${navlink_hover} }
        nav.plone-navbar a:visited {background: #${navlink_visited} }
        footer#portal-footer-wrapper { background: #${footer_background}; color: #${footer_color} }
        footer#portal-footer-wrapper a {color: #${footerlink_color} }
        footer#portal-footer-wrapper a:visited {color: #${footerlink_visited} }
        footer#portal-footer-wrapper a:hover {color: #${footerlink_hover} }

        <tal:con tal:condition="python: body_font != 'None'">body { font-family: ${body_font}; font-weight: normal; }</tal:con>
        <tal:con tal:condition="python: heading_font != 'None'">h1, h2, h3, h4, h5, h6 { font-family: ${heading_font};}
        </tal:con>
    </tal:override>

    </style>
    <link rel="stylesheet" tal:condition="ext_css" href="${ext_css}" />
    <tal:replace tal:condition="python: iconset != 'fontawesome'"
        tal:replace="structure context/@@fontload"></tal:replace>


</tal:define>
</div>
